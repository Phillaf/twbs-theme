define(["require","react","chat/messages","chat/heading","chat/compose","websockets/mixin"],function(e){var t=e("react"),n=e("chat/messages"),r=e("chat/heading"),i=e("chat/compose"),s=e("websockets/mixin"),o=t.createClass({displayName:"ChatBox",mixins:[s],fetchUrl:"/threads/get.json",sendUrl:"/messages/send.json",recieveUri:"messages.send",getInitialState:function(){return{messages:[]}},preSend:function(t){t.thread_id=1,this.send(t)},fetched:function(t){this.setState({messages:t.threads.messages})},recieved:function(t){this.state.messages.push(t),this.setState({messages:this.state.messages})},render:function(){return t.createElement("div",{id:"accordion",className:"panel panel-default"},t.createElement(r,null),t.createElement("div",{className:"panel-collapse collapse in",id:"collapseOne"},t.createElement("div",{className:"panel-body"},t.createElement(n,{data:this.state})),t.createElement(i,{submit:this.preSend})))}});return o});